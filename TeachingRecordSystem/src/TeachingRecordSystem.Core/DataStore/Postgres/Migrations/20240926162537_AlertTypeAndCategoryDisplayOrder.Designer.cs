// <auto-generated />
using System;
using System.Collections.Generic;
using System.Text.Json;
using Microsoft.EntityFrameworkCore;
using Microsoft.EntityFrameworkCore.Infrastructure;
using Microsoft.EntityFrameworkCore.Migrations;
using Microsoft.EntityFrameworkCore.Storage.ValueConversion;
using Npgsql.EntityFrameworkCore.PostgreSQL.Metadata;
using TeachingRecordSystem.Core.DataStore.Postgres;

#nullable disable

namespace TeachingRecordSystem.Core.DataStore.Postgres.Migrations
{
    [DbContext(typeof(TrsDbContext))]
    [Migration("20240926162537_AlertTypeAndCategoryDisplayOrder")]
    partial class AlertTypeAndCategoryDisplayOrder
    {
        /// <inheritdoc />
        protected override void BuildTargetModel(ModelBuilder modelBuilder)
        {
#pragma warning disable 612, 618
            modelBuilder
                .HasAnnotation("ProductVersion", "8.0.7")
                .HasAnnotation("Relational:MaxIdentifierLength", 63);

            NpgsqlModelBuilderExtensions.UseIdentityByDefaultColumns(modelBuilder);

            modelBuilder.Entity("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication<System.Guid>", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("ApplicationType")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("application_type");

                    b.Property<string>("ClientId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("client_id");

                    b.Property<string>("ClientSecret")
                        .HasColumnType("text")
                        .HasColumnName("client_secret");

                    b.Property<string>("ClientType")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("client_type");

                    b.Property<string>("ConcurrencyToken")
                        .IsConcurrencyToken()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("concurrency_token");

                    b.Property<string>("ConsentType")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("consent_type");

                    b.Property<string>("DisplayName")
                        .HasColumnType("text")
                        .HasColumnName("display_name");

                    b.Property<string>("DisplayNames")
                        .HasColumnType("text")
                        .HasColumnName("display_names");

                    b.Property<string>("JsonWebKeySet")
                        .HasColumnType("text")
                        .HasColumnName("json_web_key_set");

                    b.Property<string>("Permissions")
                        .HasColumnType("text")
                        .HasColumnName("permissions");

                    b.Property<string>("PostLogoutRedirectUris")
                        .HasColumnType("text")
                        .HasColumnName("post_logout_redirect_uris");

                    b.Property<string>("Properties")
                        .HasColumnType("text")
                        .HasColumnName("properties");

                    b.Property<string>("RedirectUris")
                        .HasColumnType("text")
                        .HasColumnName("redirect_uris");

                    b.Property<string>("Requirements")
                        .HasColumnType("text")
                        .HasColumnName("requirements");

                    b.Property<string>("Settings")
                        .HasColumnType("text")
                        .HasColumnName("settings");

                    b.HasKey("Id")
                        .HasName("pk_oidc_applications");

                    b.HasIndex("ClientId")
                        .IsUnique()
                        .HasDatabaseName("ix_oidc_applications_client_id");

                    b.ToTable("oidc_applications", (string)null);
                });

            modelBuilder.Entity("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreAuthorization<System.Guid>", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid?>("ApplicationId")
                        .HasColumnType("uuid")
                        .HasColumnName("application_id");

                    b.Property<string>("ConcurrencyToken")
                        .IsConcurrencyToken()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("concurrency_token");

                    b.Property<DateTime?>("CreationDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("creation_date");

                    b.Property<string>("Properties")
                        .HasColumnType("text")
                        .HasColumnName("properties");

                    b.Property<string>("Scopes")
                        .HasColumnType("text")
                        .HasColumnName("scopes");

                    b.Property<string>("Status")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("status");

                    b.Property<string>("Subject")
                        .HasMaxLength(400)
                        .HasColumnType("character varying(400)")
                        .HasColumnName("subject");

                    b.Property<string>("Type")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("type");

                    b.HasKey("Id")
                        .HasName("pk_oidc_authorizations");

                    b.HasIndex("ApplicationId", "Status", "Subject", "Type")
                        .HasDatabaseName("ix_oidc_authorizations_application_id_status_subject_type");

                    b.ToTable("oidc_authorizations", (string)null);
                });

            modelBuilder.Entity("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreScope<System.Guid>", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<string>("ConcurrencyToken")
                        .IsConcurrencyToken()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("concurrency_token");

                    b.Property<string>("Description")
                        .HasColumnType("text")
                        .HasColumnName("description");

                    b.Property<string>("Descriptions")
                        .HasColumnType("text")
                        .HasColumnName("descriptions");

                    b.Property<string>("DisplayName")
                        .HasColumnType("text")
                        .HasColumnName("display_name");

                    b.Property<string>("DisplayNames")
                        .HasColumnType("text")
                        .HasColumnName("display_names");

                    b.Property<string>("Name")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.Property<string>("Properties")
                        .HasColumnType("text")
                        .HasColumnName("properties");

                    b.Property<string>("Resources")
                        .HasColumnType("text")
                        .HasColumnName("resources");

                    b.HasKey("Id")
                        .HasName("pk_oidc_scopes");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("ix_oidc_scopes_name");

                    b.ToTable("oidc_scopes", (string)null);
                });

            modelBuilder.Entity("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreToken<System.Guid>", b =>
                {
                    b.Property<Guid>("Id")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("id");

                    b.Property<Guid?>("ApplicationId")
                        .HasColumnType("uuid")
                        .HasColumnName("application_id");

                    b.Property<Guid?>("AuthorizationId")
                        .HasColumnType("uuid")
                        .HasColumnName("authorization_id");

                    b.Property<string>("ConcurrencyToken")
                        .IsConcurrencyToken()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("concurrency_token");

                    b.Property<DateTime?>("CreationDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("creation_date");

                    b.Property<DateTime?>("ExpirationDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expiration_date");

                    b.Property<string>("Payload")
                        .HasColumnType("text")
                        .HasColumnName("payload");

                    b.Property<string>("Properties")
                        .HasColumnType("text")
                        .HasColumnName("properties");

                    b.Property<DateTime?>("RedemptionDate")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("redemption_date");

                    b.Property<string>("ReferenceId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("reference_id");

                    b.Property<string>("Status")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("status");

                    b.Property<string>("Subject")
                        .HasMaxLength(400)
                        .HasColumnType("character varying(400)")
                        .HasColumnName("subject");

                    b.Property<string>("Type")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("type");

                    b.HasKey("Id")
                        .HasName("pk_oidc_tokens");

                    b.HasIndex("ReferenceId")
                        .IsUnique()
                        .HasDatabaseName("ix_oidc_tokens_reference_id");

                    b.HasIndex("ApplicationId", "Status", "Subject", "Type")
                        .HasDatabaseName("ix_oidc_tokens_application_id_status_subject_type");

                    b.ToTable("oidc_tokens", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.Alert", b =>
                {
                    b.Property<Guid>("AlertId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("alert_id");

                    b.Property<Guid>("AlertTypeId")
                        .HasColumnType("uuid")
                        .HasColumnName("alert_type_id");

                    b.Property<DateTime>("CreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_on");

                    b.Property<DateTime?>("DeletedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("deleted_on");

                    b.Property<string>("Details")
                        .HasColumnType("text")
                        .HasColumnName("details");

                    b.Property<DateTime?>("DqtCreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_created_on");

                    b.Property<DateTime?>("DqtModifiedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_modified_on");

                    b.Property<Guid?>("DqtSanctionId")
                        .HasColumnType("uuid")
                        .HasColumnName("dqt_sanction_id");

                    b.Property<int?>("DqtState")
                        .HasColumnType("integer")
                        .HasColumnName("dqt_state");

                    b.Property<DateOnly?>("EndDate")
                        .HasColumnType("date")
                        .HasColumnName("end_date");

                    b.Property<string>("ExternalLink")
                        .HasColumnType("text")
                        .HasColumnName("external_link");

                    b.Property<Guid>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<DateOnly?>("StartDate")
                        .HasColumnType("date")
                        .HasColumnName("start_date");

                    b.Property<DateTime>("UpdatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_on");

                    b.HasKey("AlertId")
                        .HasName("pk_alerts");

                    b.HasIndex("AlertTypeId")
                        .HasDatabaseName("ix_alerts_alert_type_id");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_alerts_person_id");

                    b.ToTable("alerts", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.AlertCategory", b =>
                {
                    b.Property<Guid>("AlertCategoryId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("alert_category_id");

                    b.Property<int>("DisplayOrder")
                        .HasColumnType("integer")
                        .HasColumnName("display_order");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name")
                        .UseCollation("case_insensitive");

                    b.HasKey("AlertCategoryId")
                        .HasName("pk_alert_categories");

                    b.HasIndex("DisplayOrder")
                        .IsUnique()
                        .HasDatabaseName("ix_alert_categories_display_order");

                    b.ToTable("alert_categories", (string)null);

                    b.HasData(
                        new
                        {
                            AlertCategoryId = new Guid("ee78d44d-abf8-44a9-b22b-87a821f8d3c9"),
                            DisplayOrder = 1,
                            Name = "EEA Decision"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("0ae0707b-1503-477d-bc0f-1505ed95dbdf"),
                            DisplayOrder = 2,
                            Name = "Failed induction"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("768c9eb4-355b-4491-bb20-67eb59a97579"),
                            DisplayOrder = 3,
                            Name = "Flag"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 4,
                            Name = "GTC Decision"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("70b7d473-2ec8-4643-bfd4-d4ab9a9a0988"),
                            DisplayOrder = 5,
                            Name = "GTC Prohibition from teaching"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("790410c1-b884-4cdd-8db9-64a042ab54ae"),
                            DisplayOrder = 6,
                            Name = "GTC Restriction"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 7,
                            Name = "Prohibition from teaching"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("e8a9ee91-bf7f-4f70-bc66-a644d522384e"),
                            DisplayOrder = 8,
                            Name = "Restricted/DBS"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("cbf7633f-3904-407d-8371-42a473fa641f"),
                            DisplayOrder = 9,
                            Name = "Restriction"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("38df5a00-94ab-486f-8905-d5b2eac04000"),
                            DisplayOrder = 10,
                            Name = "Section 128 (SoS)"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("227b75e5-bb98-496c-8860-1baea37aa5c6"),
                            DisplayOrder = 12,
                            Name = "TRA Decision (SoS)"
                        },
                        new
                        {
                            AlertCategoryId = new Guid("e4057fc2-a010-42a9-8cb2-7dcc5c9b5fa7"),
                            DisplayOrder = 11,
                            Name = "SoS Restriction"
                        });
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.AlertType", b =>
                {
                    b.Property<Guid>("AlertTypeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("alert_type_id");

                    b.Property<Guid>("AlertCategoryId")
                        .HasColumnType("uuid")
                        .HasColumnName("alert_category_id");

                    b.Property<int>("DisplayOrder")
                        .HasColumnType("integer")
                        .HasColumnName("display_order");

                    b.Property<string>("DqtSanctionCode")
                        .HasMaxLength(5)
                        .HasColumnType("character varying(5)")
                        .HasColumnName("dqt_sanction_code")
                        .UseCollation("case_insensitive");

                    b.Property<bool>("InternalOnly")
                        .HasColumnType("boolean")
                        .HasColumnName("internal_only");

                    b.Property<bool>("IsActive")
                        .HasColumnType("boolean")
                        .HasColumnName("is_active");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name")
                        .UseCollation("case_insensitive");

                    b.Property<int>("ProhibitionLevel")
                        .HasColumnType("integer")
                        .HasColumnName("prohibition_level");

                    b.HasKey("AlertTypeId")
                        .HasName("pk_alert_types");

                    b.HasIndex("AlertCategoryId")
                        .HasDatabaseName("ix_alert_types_alert_category_id");

                    b.HasIndex("DisplayOrder")
                        .IsUnique()
                        .HasDatabaseName("ix_alert_Types_display_order");

                    b.ToTable("alert_types", (string)null);

                    b.HasData(
                        new
                        {
                            AlertTypeId = new Guid("2ca98658-1d5b-49d5-b05f-cc08c8b8502c"),
                            AlertCategoryId = new Guid("ee78d44d-abf8-44a9-b22b-87a821f8d3c9"),
                            DisplayOrder = 1,
                            DqtSanctionCode = "T8",
                            InternalOnly = true,
                            IsActive = true,
                            Name = "Teacher sanctioned in other EEA member state",
                            ProhibitionLevel = 3
                        },
                        new
                        {
                            AlertTypeId = new Guid("9fafaa80-f9f8-44a0-b7b3-cffedcbe0298"),
                            AlertCategoryId = new Guid("0ae0707b-1503-477d-bc0f-1505ed95dbdf"),
                            DisplayOrder = 2,
                            DqtSanctionCode = "C2",
                            InternalOnly = false,
                            IsActive = true,
                            Name = "Failed induction",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("651e1f56-3135-4961-bd7e-3f7b2c75cb04"),
                            AlertCategoryId = new Guid("0ae0707b-1503-477d-bc0f-1505ed95dbdf"),
                            DisplayOrder = 3,
                            DqtSanctionCode = "C1",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Prohibited by the Secretary of State - failed probation",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("5ea8bb68-4774-4ad8-b635-213a0cdda4c3"),
                            AlertCategoryId = new Guid("0ae0707b-1503-477d-bc0f-1505ed95dbdf"),
                            DisplayOrder = 4,
                            DqtSanctionCode = "C3",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Restricted by the Secretary of State - failed probation - permitted to carry out specified work for a period equal in length to a statutory induction period only",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("ae3e385d-03f8-4f12-9ce2-006afe827d23"),
                            AlertCategoryId = new Guid("768c9eb4-355b-4491-bb20-67eb59a97579"),
                            DisplayOrder = 5,
                            DqtSanctionCode = "T9",
                            InternalOnly = true,
                            IsActive = true,
                            Name = "FOR INTERNAL INFORMATION ONLY - see alert details",
                            ProhibitionLevel = 0
                        },
                        new
                        {
                            AlertTypeId = new Guid("a6fc9f2e-8923-4163-978e-93bd901d146f"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 6,
                            DqtSanctionCode = "A18",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Conditional Registration Order - conviction of a relevant offence",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("1ebd1620-293d-4169-ba78-0b41a6413ad9"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 7,
                            DqtSanctionCode = "A7",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Conditional Registration Order - serious professional incompetence",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("3499860a-a0fb-43e3-878e-c226d14150b0"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 8,
                            DqtSanctionCode = "A3",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Conditional Registration Order - unacceptable professional conduct",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("552ee226-a3a9-4dc3-8d04-0b7e4f641b51"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 9,
                            DqtSanctionCode = "A15",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "For internal information only - historic GTC finding of unsuitable for registration",
                            ProhibitionLevel = 0
                        },
                        new
                        {
                            AlertTypeId = new Guid("33e00e46-6513-4136-adfd-1352cf34d8ec"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 10,
                            DqtSanctionCode = "A22",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "No Sanction - breach of condition(s)",
                            ProhibitionLevel = 0
                        },
                        new
                        {
                            AlertTypeId = new Guid("0740f9eb-ece3-4394-a230-453da224d337"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 11,
                            DqtSanctionCode = "A16",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "No Sanction - conviction for a relevant offence",
                            ProhibitionLevel = 0
                        },
                        new
                        {
                            AlertTypeId = new Guid("b6c8d8f1-723e-49a5-9551-25805e3e29b9"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 12,
                            DqtSanctionCode = "A12",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "No Sanction - serious professional incompetence",
                            ProhibitionLevel = 0
                        },
                        new
                        {
                            AlertTypeId = new Guid("78f88de2-9ec1-41b8-948a-33bdff223206"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 13,
                            DqtSanctionCode = "A11",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "No Sanction - unacceptable professional conduct",
                            ProhibitionLevel = 0
                        },
                        new
                        {
                            AlertTypeId = new Guid("fcff87d6-88f5-4fc5-ac81-5350b4fdd9e1"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 14,
                            DqtSanctionCode = "A17",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "Reprimand - conviction of a relevant offence",
                            ProhibitionLevel = 0
                        },
                        new
                        {
                            AlertTypeId = new Guid("3f7de5fd-05a8-404f-a97c-428f54e81322"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 15,
                            DqtSanctionCode = "A8",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "Reprimand - serious professional incompetence",
                            ProhibitionLevel = 0
                        },
                        new
                        {
                            AlertTypeId = new Guid("0ae8d4b6-ec9b-47ca-9338-6dae9192afe5"),
                            AlertCategoryId = new Guid("06d98708-b52d-496a-aaa7-c1d7d2ca8b24"),
                            DisplayOrder = 16,
                            DqtSanctionCode = "A4",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "Reprimand - unacceptable professional conduct",
                            ProhibitionLevel = 0
                        },
                        new
                        {
                            AlertTypeId = new Guid("72e48b6a-e781-4bf3-910b-91f2d28f2eaa"),
                            AlertCategoryId = new Guid("70b7d473-2ec8-4643-bfd4-d4ab9a9a0988"),
                            DisplayOrder = 17,
                            DqtSanctionCode = "A21B",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Prohibition Order - conviction of a relevant offence - eligible to reapply after specified time",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("950d3eed-bef5-448a-b0f0-bf9c54f2103b"),
                            AlertCategoryId = new Guid("70b7d473-2ec8-4643-bfd4-d4ab9a9a0988"),
                            DisplayOrder = 18,
                            DqtSanctionCode = "A21A",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Prohibition Order - conviction of a relevant offence - ineligible to reapply",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("cac68337-3f95-4475-97cf-1381e6b74700"),
                            AlertCategoryId = new Guid("70b7d473-2ec8-4643-bfd4-d4ab9a9a0988"),
                            DisplayOrder = 19,
                            DqtSanctionCode = "A5B",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Prohibition Order - serious professional incompetence - Eligible to reapply after specified time",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("c02bdc3a-7a19-4034-aa23-3a23c54e1d34"),
                            AlertCategoryId = new Guid("70b7d473-2ec8-4643-bfd4-d4ab9a9a0988"),
                            DisplayOrder = 20,
                            DqtSanctionCode = "A5A",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Prohibition Order - serious professional incompetence - Ineligible to reapply",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("e3658a61-bee2-4df1-9a26-e010681ee310"),
                            AlertCategoryId = new Guid("70b7d473-2ec8-4643-bfd4-d4ab9a9a0988"),
                            DisplayOrder = 21,
                            DqtSanctionCode = "A1B",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Prohibition Order - unacceptable professional conduct - Eligible to reapply after specified time",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("fa6bd220-61b0-41fc-9066-421b3b9d7885"),
                            AlertCategoryId = new Guid("70b7d473-2ec8-4643-bfd4-d4ab9a9a0988"),
                            DisplayOrder = 22,
                            DqtSanctionCode = "A1A",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Prohibition Order - unacceptable professional conduct - Ineligible to reapply",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("d372fcfa-1c4a-4fed-84c8-4c7885575681"),
                            AlertCategoryId = new Guid("790410c1-b884-4cdd-8db9-64a042ab54ae"),
                            DisplayOrder = 23,
                            DqtSanctionCode = "A20",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Suspension order - conviction of a relevant offence - with conditions",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("af65c236-47a6-427b-8e4b-930de6d256f0"),
                            AlertCategoryId = new Guid("790410c1-b884-4cdd-8db9-64a042ab54ae"),
                            DisplayOrder = 24,
                            DqtSanctionCode = "A19",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Suspension order - conviction of a relevant offence - without conditions",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("50508749-7a6b-4175-8538-9a1e55692efd"),
                            AlertCategoryId = new Guid("790410c1-b884-4cdd-8db9-64a042ab54ae"),
                            DisplayOrder = 25,
                            DqtSanctionCode = "A14",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Suspension order - serious professional incompetence - with conditions",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("a6f51ccc-a19c-4dc2-ba80-ffb7a95ff2ee"),
                            AlertCategoryId = new Guid("790410c1-b884-4cdd-8db9-64a042ab54ae"),
                            DisplayOrder = 26,
                            DqtSanctionCode = "A6",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Suspension order - serious professional incompetence - without conditions",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("1a2b06ae-7e9f-4761-b95d-397ca5da4b13"),
                            AlertCategoryId = new Guid("790410c1-b884-4cdd-8db9-64a042ab54ae"),
                            DisplayOrder = 27,
                            DqtSanctionCode = "A13",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Suspension order - unacceptable professional conduct - with conditions",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("872d7700-aa6f-435e-b5f9-821fb087962a"),
                            AlertCategoryId = new Guid("790410c1-b884-4cdd-8db9-64a042ab54ae"),
                            DisplayOrder = 28,
                            DqtSanctionCode = "A2",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Suspension order - unacceptable professional conduct - without conditions",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("17b4fe26-7468-4702-92e5-785b861cf0fa"),
                            AlertCategoryId = new Guid("790410c1-b884-4cdd-8db9-64a042ab54ae"),
                            DisplayOrder = 29,
                            DqtSanctionCode = "A24",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Suspension order - with conditions - (arising from breach of previous condition(s))",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("3c5fc83b-10e1-4a15-83e6-794fce3e0b45"),
                            AlertCategoryId = new Guid("790410c1-b884-4cdd-8db9-64a042ab54ae"),
                            DisplayOrder = 30,
                            DqtSanctionCode = "A23",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Suspension order - without conditions - (arising from breach of previous condition(s))",
                            ProhibitionLevel = 2
                        },
                        new
                        {
                            AlertTypeId = new Guid("eab8b66d-68d0-4cb9-8e4d-bbd245648fb6"),
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 31,
                            DqtSanctionCode = "B1",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "Barring by the Secretary of State",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("2c496e3f-00d3-4f0d-81f3-21458fe707b3"),
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 32,
                            DqtSanctionCode = "G2",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "Formerly barred by the Independent Safeguarding Authority",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("993daa42-96cb-4621-bd9e-d4b195076bbe"),
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 33,
                            DqtSanctionCode = "B6",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "Formerly on List 99",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("a414283f-7d5b-4587-83bf-f6da8c05b8d5"),
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 34,
                            DqtSanctionCode = "T2",
                            InternalOnly = false,
                            IsActive = true,
                            Name = "Interim prohibition by the Secretary of State",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("8ef92c14-4b1f-4530-9189-779ad9f3cefd"),
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 36,
                            DqtSanctionCode = "B3",
                            InternalOnly = false,
                            IsActive = false,
                            Name = "Prohibited by an Independent Schools Tribunal or Secretary of State",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("50feafbc-5124-4189-b06c-6463c7ebb8a8"),
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 37,
                            DqtSanctionCode = "T3",
                            InternalOnly = false,
                            IsActive = true,
                            Name = "Prohibition by the Secretary of State - deregistered by GTC Scotland",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("5aa21b8f-2069-43c9-8afd-05b34b02505f"),
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 38,
                            DqtSanctionCode = "T5",
                            InternalOnly = false,
                            IsActive = true,
                            Name = "Prohibition by the Secretary of State - refer to GTC Northern Ireland",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("a5bd4352-2cec-4417-87a1-4b6b79d033c2"),
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 39,
                            DqtSanctionCode = "T4",
                            InternalOnly = false,
                            IsActive = true,
                            Name = "Prohibition by the Secretary of State - refer to the Education Workforce Council, Wales",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("ed0cd700-3fb2-4db0-9403-ba57126090ed"),
                            AlertCategoryId = new Guid("b2b19019-b165-47a3-8745-3297ff152581"),
                            DisplayOrder = 35,
                            DqtSanctionCode = "T1",
                            InternalOnly = false,
                            IsActive = true,
                            Name = "Prohibition by the Secretary of State - misconduct",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("40794ea8-eda2-40a8-a26a-5f447aae6c99"),
                            AlertCategoryId = new Guid("e8a9ee91-bf7f-4f70-bc66-a644d522384e"),
                            DisplayOrder = 40,
                            DqtSanctionCode = "G1",
                            InternalOnly = true,
                            IsActive = true,
                            Name = "A possible matching record was found. Please contact the DBS before employing this person",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("38db7946-2dbf-408e-bc48-1625829e7dfe"),
                            AlertCategoryId = new Guid("cbf7633f-3904-407d-8371-42a473fa641f"),
                            DisplayOrder = 41,
                            DqtSanctionCode = "B2B",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "Restricted by the Secretary of State - Not Permitted to work as teacher",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("18e04dcb-fb86-4b05-8d5d-ff9c5da738dd"),
                            AlertCategoryId = new Guid("cbf7633f-3904-407d-8371-42a473fa641f"),
                            DisplayOrder = 42,
                            DqtSanctionCode = "B2A",
                            InternalOnly = true,
                            IsActive = false,
                            Name = "Restricted by the Secretary of State - Permitted to work as teacher",
                            ProhibitionLevel = 1
                        },
                        new
                        {
                            AlertTypeId = new Guid("241eeb78-fac7-4c77-8059-c12e93dc2fae"),
                            AlertCategoryId = new Guid("38df5a00-94ab-486f-8905-d5b2eac04000"),
                            DisplayOrder = 43,
                            DqtSanctionCode = "T7",
                            InternalOnly = false,
                            IsActive = true,
                            Name = "Section 128 barring direction",
                            ProhibitionLevel = 4
                        },
                        new
                        {
                            AlertTypeId = new Guid("7924fe90-483c-49f8-84fc-674feddba848"),
                            AlertCategoryId = new Guid("227b75e5-bb98-496c-8860-1baea37aa5c6"),
                            DisplayOrder = 44,
                            DqtSanctionCode = "T6",
                            InternalOnly = false,
                            IsActive = true,
                            Name = "Secretary of State decision- no prohibition",
                            ProhibitionLevel = 0
                        });
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.ApiKey", b =>
                {
                    b.Property<Guid>("ApiKeyId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("api_key_id");

                    b.Property<Guid>("ApplicationUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("application_user_id");

                    b.Property<DateTime>("CreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_on");

                    b.Property<DateTime?>("Expires")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("expires");

                    b.Property<string>("Key")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("key");

                    b.Property<DateTime>("UpdatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_on");

                    b.HasKey("ApiKeyId")
                        .HasName("pk_api_keys");

                    b.HasIndex("ApplicationUserId")
                        .HasDatabaseName("ix_api_keys_application_user_id");

                    b.HasIndex("Key")
                        .IsUnique()
                        .HasDatabaseName("ix_api_keys_key");

                    b.ToTable("api_keys", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.EntityChangesJournal", b =>
                {
                    b.Property<string>("Key")
                        .HasColumnType("text")
                        .HasColumnName("key");

                    b.Property<string>("EntityLogicalName")
                        .HasColumnType("text")
                        .HasColumnName("entity_logical_name");

                    b.Property<string>("DataToken")
                        .HasColumnType("text")
                        .HasColumnName("data_token");

                    b.Property<DateTime?>("LastUpdated")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_updated");

                    b.Property<string>("LastUpdatedBy")
                        .HasColumnType("text")
                        .HasColumnName("last_updated_by");

                    b.Property<int?>("NextQueryPageNumber")
                        .HasColumnType("integer")
                        .HasColumnName("next_query_page_number");

                    b.Property<int?>("NextQueryPageSize")
                        .HasColumnType("integer")
                        .HasColumnName("next_query_page_size");

                    b.Property<string>("NextQueryPagingCookie")
                        .HasColumnType("text")
                        .HasColumnName("next_query_paging_cookie");

                    b.HasKey("Key", "EntityLogicalName")
                        .HasName("pk_entity_changes_journals");

                    b.ToTable("entity_changes_journals", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.Establishment", b =>
                {
                    b.Property<Guid>("EstablishmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("establishment_id");

                    b.Property<string>("Address3")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("address3")
                        .UseCollation("case_insensitive");

                    b.Property<string>("County")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("county")
                        .UseCollation("case_insensitive");

                    b.Property<string>("EstablishmentName")
                        .IsRequired()
                        .HasMaxLength(120)
                        .HasColumnType("character varying(120)")
                        .HasColumnName("establishment_name")
                        .UseCollation("case_insensitive");

                    b.Property<string>("EstablishmentNumber")
                        .HasMaxLength(4)
                        .HasColumnType("character(4)")
                        .HasColumnName("establishment_number")
                        .IsFixedLength();

                    b.Property<int>("EstablishmentSourceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasDefaultValue(1)
                        .HasColumnName("establishment_source_id");

                    b.Property<int?>("EstablishmentStatusCode")
                        .HasColumnType("integer")
                        .HasColumnName("establishment_status_code");

                    b.Property<string>("EstablishmentStatusName")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("establishment_status_name");

                    b.Property<string>("EstablishmentTypeCode")
                        .HasMaxLength(3)
                        .HasColumnType("character varying(3)")
                        .HasColumnName("establishment_type_code");

                    b.Property<int?>("EstablishmentTypeGroupCode")
                        .HasColumnType("integer")
                        .HasColumnName("establishment_type_group_code");

                    b.Property<string>("EstablishmentTypeGroupName")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("establishment_type_group_name");

                    b.Property<string>("EstablishmentTypeName")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("establishment_type_name")
                        .UseCollation("case_insensitive");

                    b.Property<string>("LaCode")
                        .IsRequired()
                        .HasMaxLength(3)
                        .HasColumnType("character(3)")
                        .HasColumnName("la_code")
                        .IsFixedLength();

                    b.Property<string>("LaName")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("la_name")
                        .UseCollation("case_insensitive");

                    b.Property<string>("Locality")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("locality")
                        .UseCollation("case_insensitive");

                    b.Property<string>("Postcode")
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)")
                        .HasColumnName("postcode")
                        .UseCollation("case_insensitive");

                    b.Property<string>("Street")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("street")
                        .UseCollation("case_insensitive");

                    b.Property<string>("Town")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("town")
                        .UseCollation("case_insensitive");

                    b.Property<int?>("Urn")
                        .HasMaxLength(6)
                        .HasColumnType("integer")
                        .HasColumnName("urn")
                        .IsFixedLength();

                    b.HasKey("EstablishmentId")
                        .HasName("pk_establishments");

                    b.HasIndex("EstablishmentSourceId")
                        .HasDatabaseName("ix_establishment_establishment_source_id");

                    b.HasIndex("Urn")
                        .HasDatabaseName("ix_establishment_urn");

                    b.HasIndex("LaCode", "EstablishmentNumber")
                        .HasDatabaseName("ix_establishment_la_code_establishment_number");

                    b.ToTable("establishments", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.EstablishmentSource", b =>
                {
                    b.Property<int>("EstablishmentSourceId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("establishment_source_id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("EstablishmentSourceId"));

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("name")
                        .UseCollation("case_insensitive");

                    b.HasKey("EstablishmentSourceId")
                        .HasName("pk_establishment_sources");

                    b.ToTable("establishment_sources", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.Event", b =>
                {
                    b.Property<Guid>("EventId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("event_id");

                    b.Property<DateTime>("Created")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created");

                    b.Property<string>("EventName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("event_name");

                    b.Property<DateTime>("Inserted")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("inserted");

                    b.Property<string>("Key")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("key");

                    b.Property<string>("Payload")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("payload");

                    b.Property<Guid?>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<bool>("Published")
                        .HasColumnType("boolean")
                        .HasColumnName("published");

                    b.HasKey("EventId")
                        .HasName("pk_events");

                    b.HasIndex("Key")
                        .IsUnique()
                        .HasDatabaseName("ix_events_key")
                        .HasFilter("key is not null");

                    b.HasIndex("Payload")
                        .HasDatabaseName("ix_events_payload");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Payload"), "gin");

                    b.HasIndex("PersonId", "EventName")
                        .HasDatabaseName("ix_events_person_id_event_name")
                        .HasFilter("person_id is not null");

                    NpgsqlIndexBuilderExtensions.IncludeProperties(b.HasIndex("PersonId", "EventName"), new[] { "Payload" });

                    b.ToTable("events", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.EytsAwardedEmailsJob", b =>
                {
                    b.Property<Guid>("EytsAwardedEmailsJobId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("eyts_awarded_emails_job_id");

                    b.Property<DateTime>("AwardedToUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("awarded_to_utc");

                    b.Property<DateTime>("ExecutedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("executed_utc");

                    b.HasKey("EytsAwardedEmailsJobId")
                        .HasName("pk_eyts_awarded_emails_jobs");

                    b.HasIndex("ExecutedUtc")
                        .HasDatabaseName("ix_eyts_awarded_emails_jobs_executed_utc");

                    b.ToTable("eyts_awarded_emails_jobs", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.EytsAwardedEmailsJobItem", b =>
                {
                    b.Property<Guid>("EytsAwardedEmailsJobId")
                        .HasColumnType("uuid")
                        .HasColumnName("eyts_awarded_emails_job_id");

                    b.Property<Guid>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<string>("EmailAddress")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("email_address");

                    b.Property<bool>("EmailSent")
                        .HasColumnType("boolean")
                        .HasColumnName("email_sent");

                    b.Property<string>("Personalization")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("personalization");

                    b.Property<string>("Trn")
                        .IsRequired()
                        .HasMaxLength(7)
                        .HasColumnType("character(7)")
                        .HasColumnName("trn")
                        .IsFixedLength();

                    b.HasKey("EytsAwardedEmailsJobId", "PersonId")
                        .HasName("pk_eyts_awarded_emails_job_items");

                    b.HasIndex("Personalization")
                        .HasDatabaseName("ix_eyts_awarded_emails_job_items_personalization");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Personalization"), "gin");

                    b.ToTable("eyts_awarded_emails_job_items", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.InductionCompletedEmailsJob", b =>
                {
                    b.Property<Guid>("InductionCompletedEmailsJobId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("induction_completed_emails_job_id");

                    b.Property<DateTime>("AwardedToUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("awarded_to_utc");

                    b.Property<DateTime>("ExecutedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("executed_utc");

                    b.HasKey("InductionCompletedEmailsJobId")
                        .HasName("pk_induction_completed_emails_jobs");

                    b.HasIndex("ExecutedUtc")
                        .HasDatabaseName("ix_induction_completed_emails_jobs_executed_utc");

                    b.ToTable("induction_completed_emails_jobs", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.InductionCompletedEmailsJobItem", b =>
                {
                    b.Property<Guid>("InductionCompletedEmailsJobId")
                        .HasColumnType("uuid")
                        .HasColumnName("induction_completed_emails_job_id");

                    b.Property<Guid>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<string>("EmailAddress")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("email_address");

                    b.Property<bool>("EmailSent")
                        .HasColumnType("boolean")
                        .HasColumnName("email_sent");

                    b.Property<string>("Personalization")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("personalization");

                    b.Property<string>("Trn")
                        .IsRequired()
                        .HasMaxLength(7)
                        .HasColumnType("character(7)")
                        .HasColumnName("trn")
                        .IsFixedLength();

                    b.HasKey("InductionCompletedEmailsJobId", "PersonId")
                        .HasName("pk_induction_completed_emails_job_items");

                    b.HasIndex("Personalization")
                        .HasDatabaseName("ix_induction_completed_emails_job_items_personalization");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Personalization"), "gin");

                    b.ToTable("induction_completed_emails_job_items", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.InternationalQtsAwardedEmailsJob", b =>
                {
                    b.Property<Guid>("InternationalQtsAwardedEmailsJobId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("international_qts_awarded_emails_job_id");

                    b.Property<DateTime>("AwardedToUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("awarded_to_utc");

                    b.Property<DateTime>("ExecutedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("executed_utc");

                    b.HasKey("InternationalQtsAwardedEmailsJobId")
                        .HasName("pk_international_qts_awarded_emails_jobs");

                    b.HasIndex("ExecutedUtc")
                        .HasDatabaseName("ix_international_qts_awarded_emails_jobs_executed_utc");

                    b.ToTable("international_qts_awarded_emails_jobs", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.InternationalQtsAwardedEmailsJobItem", b =>
                {
                    b.Property<Guid>("InternationalQtsAwardedEmailsJobId")
                        .HasColumnType("uuid")
                        .HasColumnName("international_qts_awarded_emails_job_id");

                    b.Property<Guid>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<string>("EmailAddress")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("email_address");

                    b.Property<bool>("EmailSent")
                        .HasColumnType("boolean")
                        .HasColumnName("email_sent");

                    b.Property<string>("Personalization")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("personalization");

                    b.Property<string>("Trn")
                        .IsRequired()
                        .HasMaxLength(7)
                        .HasColumnType("character(7)")
                        .HasColumnName("trn")
                        .IsFixedLength();

                    b.HasKey("InternationalQtsAwardedEmailsJobId", "PersonId")
                        .HasName("pk_international_qts_awarded_emails_job_items");

                    b.HasIndex("Personalization")
                        .HasDatabaseName("ix_international_qts_awarded_emails_job_items_personalization");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Personalization"), "gin");

                    b.ToTable("international_qts_awarded_emails_job_items", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.JourneyState", b =>
                {
                    b.Property<string>("InstanceId")
                        .HasMaxLength(300)
                        .HasColumnType("character varying(300)")
                        .HasColumnName("instance_id");

                    b.Property<DateTime?>("Completed")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("completed");

                    b.Property<DateTime>("Created")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created");

                    b.Property<string>("State")
                        .IsRequired()
                        .HasColumnType("text")
                        .HasColumnName("state");

                    b.Property<DateTime>("Updated")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated");

                    b.Property<string>("UserId")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("user_id");

                    b.HasKey("InstanceId")
                        .HasName("pk_journey_states");

                    b.ToTable("journey_states", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.MandatoryQualificationProvider", b =>
                {
                    b.Property<Guid>("MandatoryQualificationProviderId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("mandatory_qualification_provider_id");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.HasKey("MandatoryQualificationProviderId")
                        .HasName("pk_mandatory_qualification_providers");

                    b.ToTable("mandatory_qualification_providers", (string)null);

                    b.HasData(
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("e28ea41d-408d-4c89-90cc-8b9b04ac68f5"),
                            Name = "University of Birmingham"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("89f9a1aa-3d68-4985-a4ce-403b6044c18c"),
                            Name = "University of Leeds"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("aa5c300e-3b7c-456c-8183-3520b3d55dca"),
                            Name = "University of Manchester"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("f417e73e-e2ad-40eb-85e3-55865be7f6be"),
                            Name = "Mary Hare School / University of Hertfordshire"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("fbf22e04-b274-4c80-aba8-79fb6a7a32ce"),
                            Name = "University of Edinburgh"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("26204149-349c-4ad6-9466-bb9b83723eae"),
                            Name = "Liverpool John Moores University"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("0c30f666-647c-4ea8-8883-0fc6010b56be"),
                            Name = "University of Oxford/Oxford Polytechnic"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("d0e6d54c-5e90-438a-945d-f97388c2b352"),
                            Name = "University of Cambridge"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("aec32252-ef25-452e-a358-34a04e03369c"),
                            Name = "University of Newcastle-upon-Tyne"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("d9ee7054-7fde-4cfd-9a5e-4b99511d1b3d"),
                            Name = "University of Plymouth"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("707d58ca-1953-413b-9a46-41e9b0be885e"),
                            Name = "University of Hertfordshire"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("3fc648a7-18e4-49e7-8a4b-1612616b72d5"),
                            Name = "University of London"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("374dceb8-8224-45b8-b7dc-a6b0282b1065"),
                            Name = "Bristol Polytechnic"
                        },
                        new
                        {
                            MandatoryQualificationProviderId = new Guid("d4fc958b-21de-47ec-9f03-36ae237a1b11"),
                            Name = "University College, Swansea"
                        });
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.NameSynonyms", b =>
                {
                    b.Property<long>("NameSynonymsId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("name_synonyms_id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("NameSynonymsId"));

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("name")
                        .UseCollation("case_insensitive");

                    b.Property<string[]>("Synonyms")
                        .IsRequired()
                        .HasColumnType("text[]")
                        .HasColumnName("synonyms")
                        .UseCollation("case_insensitive");

                    b.HasKey("NameSynonymsId")
                        .HasName("pk_name_synonyms");

                    b.HasIndex("Name")
                        .IsUnique()
                        .HasDatabaseName("ix_name_synonyms_name");

                    b.ToTable("name_synonyms", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.OneLoginUser", b =>
                {
                    b.Property<string>("Subject")
                        .HasMaxLength(255)
                        .HasColumnType("character varying(255)")
                        .HasColumnName("subject");

                    b.Property<string>("Email")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("email");

                    b.Property<DateTime>("FirstOneLoginSignIn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("first_one_login_sign_in");

                    b.Property<DateTime?>("FirstSignIn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("first_sign_in");

                    b.Property<string>("LastCoreIdentityVc")
                        .HasColumnType("jsonb")
                        .HasColumnName("last_core_identity_vc");

                    b.Property<DateTime>("LastOneLoginSignIn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_one_login_sign_in");

                    b.Property<DateTime?>("LastSignIn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("last_sign_in");

                    b.Property<int>("MatchRoute")
                        .HasColumnType("integer")
                        .HasColumnName("match_route");

                    b.Property<string>("MatchedAttributes")
                        .HasColumnType("jsonb")
                        .HasColumnName("matched_attributes");

                    b.Property<Guid?>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<int?>("VerificationRoute")
                        .HasColumnType("integer")
                        .HasColumnName("verification_route");

                    b.Property<string>("VerifiedDatesOfBirth")
                        .HasColumnType("jsonb")
                        .HasColumnName("verified_dates_of_birth");

                    b.Property<string>("VerifiedNames")
                        .HasColumnType("jsonb")
                        .HasColumnName("verified_names");

                    b.Property<DateTime?>("VerifiedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("verified_on");

                    b.HasKey("Subject")
                        .HasName("pk_one_login_users");

                    b.ToTable("one_login_users", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.Person", b =>
                {
                    b.Property<Guid>("PersonId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<DateTime?>("CreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_on");

                    b.Property<DateOnly?>("DateOfBirth")
                        .HasColumnType("date")
                        .HasColumnName("date_of_birth");

                    b.Property<DateTime?>("DeletedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("deleted_on");

                    b.Property<Guid?>("DqtContactId")
                        .HasColumnType("uuid")
                        .HasColumnName("dqt_contact_id");

                    b.Property<DateTime?>("DqtCreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_created_on");

                    b.Property<string>("DqtFirstName")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("dqt_first_name")
                        .UseCollation("case_insensitive");

                    b.Property<DateTime?>("DqtFirstSync")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_first_sync");

                    b.Property<string>("DqtLastName")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("dqt_last_name")
                        .UseCollation("case_insensitive");

                    b.Property<DateTime?>("DqtLastSync")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_last_sync");

                    b.Property<string>("DqtMiddleName")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("dqt_middle_name")
                        .UseCollation("case_insensitive");

                    b.Property<DateTime?>("DqtModifiedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_modified_on");

                    b.Property<int?>("DqtState")
                        .HasColumnType("integer")
                        .HasColumnName("dqt_state");

                    b.Property<string>("EmailAddress")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("email_address")
                        .UseCollation("case_insensitive");

                    b.Property<string>("FirstName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("first_name")
                        .UseCollation("case_insensitive");

                    b.Property<string>("LastName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("last_name")
                        .UseCollation("case_insensitive");

                    b.Property<string>("MiddleName")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("middle_name")
                        .UseCollation("case_insensitive");

                    b.Property<string>("NationalInsuranceNumber")
                        .HasMaxLength(9)
                        .HasColumnType("character(9)")
                        .HasColumnName("national_insurance_number")
                        .IsFixedLength();

                    b.Property<string>("Trn")
                        .HasMaxLength(7)
                        .HasColumnType("character(7)")
                        .HasColumnName("trn")
                        .IsFixedLength();

                    b.Property<DateTime?>("UpdatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_on");

                    b.HasKey("PersonId")
                        .HasName("pk_persons");

                    b.HasIndex("DqtContactId")
                        .IsUnique()
                        .HasDatabaseName("ix_persons_dqt_contact_id")
                        .HasFilter("dqt_contact_id is not null");

                    b.HasIndex("Trn")
                        .IsUnique()
                        .HasDatabaseName("ix_persons_trn")
                        .HasFilter("trn is not null");

                    b.ToTable("persons", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.PersonSearchAttribute", b =>
                {
                    b.Property<long>("PersonSearchAttributeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("person_search_attribute_id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("PersonSearchAttributeId"));

                    b.Property<string>("AttributeKey")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("attribute_key")
                        .UseCollation("case_insensitive");

                    b.Property<string>("AttributeType")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("attribute_type")
                        .UseCollation("case_insensitive");

                    b.Property<string>("AttributeValue")
                        .IsRequired()
                        .HasMaxLength(1000)
                        .HasColumnType("character varying(1000)")
                        .HasColumnName("attribute_value")
                        .UseCollation("case_insensitive");

                    b.Property<Guid>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<string[]>("Tags")
                        .IsRequired()
                        .HasColumnType("text[]")
                        .HasColumnName("tags");

                    b.HasKey("PersonSearchAttributeId")
                        .HasName("pk_person_search_attributes");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_person_search_attributes_person_id");

                    b.HasIndex("AttributeType", "AttributeValue")
                        .HasDatabaseName("ix_person_search_attributes_attribute_type_and_value");

                    b.ToTable("person_search_attributes", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.QtsAwardedEmailsJob", b =>
                {
                    b.Property<Guid>("QtsAwardedEmailsJobId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("qts_awarded_emails_job_id");

                    b.Property<DateTime>("AwardedToUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("awarded_to_utc");

                    b.Property<DateTime>("ExecutedUtc")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("executed_utc");

                    b.HasKey("QtsAwardedEmailsJobId")
                        .HasName("pk_qts_awarded_emails_jobs");

                    b.HasIndex("ExecutedUtc")
                        .HasDatabaseName("ix_qts_awarded_emails_jobs_executed_utc");

                    b.ToTable("qts_awarded_emails_jobs", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.QtsAwardedEmailsJobItem", b =>
                {
                    b.Property<Guid>("QtsAwardedEmailsJobId")
                        .HasColumnType("uuid")
                        .HasColumnName("qts_awarded_emails_job_id");

                    b.Property<Guid>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<string>("EmailAddress")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("email_address");

                    b.Property<bool>("EmailSent")
                        .HasColumnType("boolean")
                        .HasColumnName("email_sent");

                    b.Property<string>("Personalization")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("personalization");

                    b.Property<string>("Trn")
                        .IsRequired()
                        .HasMaxLength(7)
                        .HasColumnType("character(7)")
                        .HasColumnName("trn")
                        .IsFixedLength();

                    b.HasKey("QtsAwardedEmailsJobId", "PersonId")
                        .HasName("pk_qts_awarded_emails_job_items");

                    b.HasIndex("Personalization")
                        .HasDatabaseName("ix_qts_awarded_emails_job_items_personalization");

                    NpgsqlIndexBuilderExtensions.HasMethod(b.HasIndex("Personalization"), "gin");

                    b.ToTable("qts_awarded_emails_job_items", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.Qualification", b =>
                {
                    b.Property<Guid>("QualificationId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("qualification_id");

                    b.Property<DateTime>("CreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_on");

                    b.Property<DateTime?>("DeletedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("deleted_on");

                    b.Property<DateTime?>("DqtCreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_created_on");

                    b.Property<DateTime?>("DqtFirstSync")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_first_sync");

                    b.Property<DateTime?>("DqtLastSync")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_last_sync");

                    b.Property<DateTime?>("DqtModifiedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("dqt_modified_on");

                    b.Property<Guid?>("DqtQualificationId")
                        .HasColumnType("uuid")
                        .HasColumnName("dqt_qualification_id");

                    b.Property<int?>("DqtState")
                        .HasColumnType("integer")
                        .HasColumnName("dqt_state");

                    b.Property<Guid>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<int>("QualificationType")
                        .HasColumnType("integer")
                        .HasColumnName("qualification_type");

                    b.Property<DateTime>("UpdatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_on");

                    b.HasKey("QualificationId")
                        .HasName("pk_qualifications");

                    b.HasIndex("DqtQualificationId")
                        .IsUnique()
                        .HasDatabaseName("ix_qualifications_dqt_qualification_id")
                        .HasFilter("dqt_qualification_id is not null");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_qualifications_person_id");

                    b.ToTable("qualifications", (string)null);

                    b.HasDiscriminator<int>("QualificationType");

                    b.UseTphMappingStrategy();
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.SupportTask", b =>
                {
                    b.Property<string>("SupportTaskReference")
                        .HasMaxLength(16)
                        .HasColumnType("character varying(16)")
                        .HasColumnName("support_task_reference");

                    b.Property<DateTime>("CreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_on");

                    b.Property<string>("OneLoginUserSubject")
                        .HasColumnType("character varying(255)")
                        .HasColumnName("one_login_user_subject");

                    b.Property<Guid?>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<int>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("status");

                    b.Property<int>("SupportTaskType")
                        .HasColumnType("integer")
                        .HasColumnName("support_task_type");

                    b.Property<DateTime>("UpdatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_on");

                    b.Property<JsonDocument>("_data")
                        .IsRequired()
                        .HasColumnType("jsonb")
                        .HasColumnName("data");

                    b.HasKey("SupportTaskReference")
                        .HasName("pk_support_tasks");

                    b.HasIndex("OneLoginUserSubject")
                        .HasDatabaseName("ix_support_tasks_one_login_user_subject");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_support_tasks_person_id");

                    b.ToTable("support_tasks", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsCsvExtract", b =>
                {
                    b.Property<Guid>("TpsCsvExtractId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("tps_csv_extract_id");

                    b.Property<DateTime>("CreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_on");

                    b.Property<string>("Filename")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("filename");

                    b.HasKey("TpsCsvExtractId")
                        .HasName("pk_tps_csv_extracts");

                    b.ToTable("tps_csv_extracts", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsCsvExtractItem", b =>
                {
                    b.Property<Guid>("TpsCsvExtractItemId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("tps_csv_extract_item_id");

                    b.Property<DateTime>("Created")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created");

                    b.Property<DateOnly>("DateOfBirth")
                        .HasColumnType("date")
                        .HasColumnName("date_of_birth");

                    b.Property<DateOnly?>("DateOfDeath")
                        .HasColumnType("date")
                        .HasColumnName("date_of_death");

                    b.Property<DateOnly?>("EmploymentEndDate")
                        .HasColumnType("date")
                        .HasColumnName("employment_end_date");

                    b.Property<DateOnly>("EmploymentStartDate")
                        .HasColumnType("date")
                        .HasColumnName("employment_start_date");

                    b.Property<int>("EmploymentType")
                        .HasColumnType("integer")
                        .HasColumnName("employment_type");

                    b.Property<string>("EstablishmentEmailAddress")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("establishment_email_address");

                    b.Property<string>("EstablishmentNumber")
                        .HasMaxLength(4)
                        .HasColumnType("character(4)")
                        .HasColumnName("establishment_number")
                        .IsFixedLength();

                    b.Property<string>("EstablishmentPostcode")
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)")
                        .HasColumnName("establishment_postcode");

                    b.Property<DateOnly>("ExtractDate")
                        .HasColumnType("date")
                        .HasColumnName("extract_date");

                    b.Property<string>("Gender")
                        .IsRequired()
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)")
                        .HasColumnName("gender");

                    b.Property<string>("Key")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("key");

                    b.Property<string>("LocalAuthorityCode")
                        .IsRequired()
                        .HasMaxLength(3)
                        .HasColumnType("character(3)")
                        .HasColumnName("local_authority_code")
                        .IsFixedLength();

                    b.Property<string>("MemberEmailAddress")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("member_email_address");

                    b.Property<int?>("MemberId")
                        .HasColumnType("integer")
                        .HasColumnName("member_id");

                    b.Property<string>("MemberPostcode")
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)")
                        .HasColumnName("member_postcode");

                    b.Property<string>("NationalInsuranceNumber")
                        .IsRequired()
                        .HasMaxLength(9)
                        .HasColumnType("character(9)")
                        .HasColumnName("national_insurance_number")
                        .IsFixedLength();

                    b.Property<int?>("Result")
                        .HasColumnType("integer")
                        .HasColumnName("result");

                    b.Property<Guid>("TpsCsvExtractId")
                        .HasColumnType("uuid")
                        .HasColumnName("tps_csv_extract_id");

                    b.Property<Guid>("TpsCsvExtractLoadItemId")
                        .HasColumnType("uuid")
                        .HasColumnName("tps_csv_extract_load_item_id");

                    b.Property<string>("Trn")
                        .IsRequired()
                        .HasMaxLength(7)
                        .HasColumnType("character(7)")
                        .HasColumnName("trn")
                        .IsFixedLength();

                    b.Property<string>("WithdrawalIndicator")
                        .HasMaxLength(1)
                        .HasColumnType("character(1)")
                        .HasColumnName("withdrawal_indicator")
                        .IsFixedLength();

                    b.HasKey("TpsCsvExtractItemId")
                        .HasName("pk_tps_csv_extract_items");

                    b.HasIndex("Key")
                        .HasDatabaseName("ix_tps_csv_extract_items_key");

                    b.HasIndex("TpsCsvExtractId")
                        .HasDatabaseName("ix_tps_csv_extract_items_tps_csv_extract_id");

                    b.HasIndex("TpsCsvExtractLoadItemId")
                        .HasDatabaseName("ix_tps_csv_extract_items_tps_csv_extract_load_item_id");

                    b.HasIndex("Trn")
                        .HasDatabaseName("ix_tps_csv_extract_items_trn");

                    b.HasIndex("LocalAuthorityCode", "EstablishmentNumber")
                        .HasDatabaseName("ix_tps_csv_extract_items_la_code_establishment_number");

                    b.ToTable("tps_csv_extract_items", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsCsvExtractLoadItem", b =>
                {
                    b.Property<Guid>("TpsCsvExtractLoadItemId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("tps_csv_extract_load_item_id");

                    b.Property<DateTime>("Created")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created");

                    b.Property<string>("DateOfBirth")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("date_of_birth");

                    b.Property<string>("DateOfDeath")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("date_of_death");

                    b.Property<string>("EmploymentEndDate")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("employment_end_date");

                    b.Property<string>("EmploymentStartDate")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("employment_start_date");

                    b.Property<int?>("Errors")
                        .HasColumnType("integer")
                        .HasColumnName("errors");

                    b.Property<string>("EstablishmentEmailAddress")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("establishment_email_address");

                    b.Property<string>("EstablishmentNumber")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("establishment_number");

                    b.Property<string>("EstablishmentPostcode")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("establishment_postcode");

                    b.Property<string>("ExtractDate")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("extract_date");

                    b.Property<string>("FullOrPartTimeIndicator")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("full_or_part_time_indicator");

                    b.Property<string>("Gender")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("gender");

                    b.Property<string>("LocalAuthorityCode")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("local_authority_code");

                    b.Property<string>("MemberEmailAddress")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("member_email_address");

                    b.Property<string>("MemberId")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("member_id");

                    b.Property<string>("MemberPostcode")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("member_postcode");

                    b.Property<string>("NationalInsuranceNumber")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("national_insurance_number");

                    b.Property<Guid>("TpsCsvExtractId")
                        .HasColumnType("uuid")
                        .HasColumnName("tps_csv_extract_id");

                    b.Property<string>("Trn")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("trn");

                    b.Property<string>("WithdrawalIndicator")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("withdrawal_indicator");

                    b.HasKey("TpsCsvExtractLoadItemId")
                        .HasName("pk_tps_csv_extract_load_items");

                    b.ToTable("tps_csv_extract_load_items", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsEmployment", b =>
                {
                    b.Property<Guid>("TpsEmploymentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("tps_employment_id");

                    b.Property<DateTime>("CreatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("created_on");

                    b.Property<int>("EmploymentType")
                        .HasColumnType("integer")
                        .HasColumnName("employment_type");

                    b.Property<DateOnly?>("EndDate")
                        .HasColumnType("date")
                        .HasColumnName("end_date");

                    b.Property<Guid>("EstablishmentId")
                        .HasColumnType("uuid")
                        .HasColumnName("establishment_id");

                    b.Property<string>("Key")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("key");

                    b.Property<DateOnly>("LastExtractDate")
                        .HasColumnType("date")
                        .HasColumnName("last_extract_date");

                    b.Property<DateOnly>("LastKnownTpsEmployedDate")
                        .HasColumnType("date")
                        .HasColumnName("last_known_tps_employed_date");

                    b.Property<string>("NationalInsuranceNumber")
                        .HasMaxLength(9)
                        .HasColumnType("character(9)")
                        .HasColumnName("national_insurance_number")
                        .IsFixedLength();

                    b.Property<Guid>("PersonId")
                        .HasColumnType("uuid")
                        .HasColumnName("person_id");

                    b.Property<string>("PersonPostcode")
                        .HasMaxLength(10)
                        .HasColumnType("character varying(10)")
                        .HasColumnName("person_postcode");

                    b.Property<DateOnly>("StartDate")
                        .HasColumnType("date")
                        .HasColumnName("start_date");

                    b.Property<DateTime>("UpdatedOn")
                        .HasColumnType("timestamp with time zone")
                        .HasColumnName("updated_on");

                    b.Property<bool>("WithdrawalConfirmed")
                        .HasColumnType("boolean")
                        .HasColumnName("withdrawal_confirmed");

                    b.HasKey("TpsEmploymentId")
                        .HasName("pk_tps_employments");

                    b.HasIndex("EstablishmentId")
                        .HasDatabaseName("ix_tps_employments_establishment_id");

                    b.HasIndex("Key")
                        .HasDatabaseName("ix_tps_employments_key");

                    b.HasIndex("PersonId")
                        .HasDatabaseName("ix_tps_employments_person_id");

                    b.ToTable("tps_employments", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsEstablishment", b =>
                {
                    b.Property<Guid>("TpsEstablishmentId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("tps_establishment_id");

                    b.Property<string>("EmployersName")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("employers_name");

                    b.Property<string>("EstablishmentCode")
                        .IsRequired()
                        .HasMaxLength(4)
                        .HasColumnType("character(4)")
                        .HasColumnName("establishment_code")
                        .IsFixedLength();

                    b.Property<string>("LaCode")
                        .IsRequired()
                        .HasMaxLength(3)
                        .HasColumnType("character(3)")
                        .HasColumnName("la_code")
                        .IsFixedLength();

                    b.Property<DateOnly?>("SchoolClosedDate")
                        .HasColumnType("date")
                        .HasColumnName("school_closed_date");

                    b.Property<string>("SchoolGiasName")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("school_gias_name");

                    b.HasKey("TpsEstablishmentId")
                        .HasName("pk_tps_establishments");

                    b.HasIndex("LaCode", "EstablishmentCode")
                        .HasDatabaseName("ix_tps_establishments_la_code_establishment_number");

                    b.ToTable("tps_establishments", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsEstablishmentType", b =>
                {
                    b.Property<int>("TpsEstablishmentTypeId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("integer")
                        .HasColumnName("tps_establishment_type_id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<int>("TpsEstablishmentTypeId"));

                    b.Property<string>("Description")
                        .IsRequired()
                        .HasMaxLength(300)
                        .HasColumnType("character varying(300)")
                        .HasColumnName("description");

                    b.Property<string>("EstablishmentRangeFrom")
                        .IsRequired()
                        .HasMaxLength(4)
                        .HasColumnType("character(4)")
                        .HasColumnName("establishment_range_from")
                        .IsFixedLength();

                    b.Property<string>("EstablishmentRangeTo")
                        .IsRequired()
                        .HasMaxLength(4)
                        .HasColumnType("character(4)")
                        .HasColumnName("establishment_range_to")
                        .IsFixedLength();

                    b.Property<string>("ShortDescription")
                        .IsRequired()
                        .HasMaxLength(120)
                        .HasColumnType("character varying(120)")
                        .HasColumnName("short_description");

                    b.HasKey("TpsEstablishmentTypeId")
                        .HasName("pk_tps_establishment_types");

                    b.ToTable("tps_establishment_types", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TrnRequest", b =>
                {
                    b.Property<long>("TrnRequestId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("bigint")
                        .HasColumnName("trn_request_id");

                    NpgsqlPropertyBuilderExtensions.UseIdentityByDefaultColumn(b.Property<long>("TrnRequestId"));

                    b.Property<string>("ClientId")
                        .IsRequired()
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("client_id");

                    b.Property<Guid?>("IdentityUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("identity_user_id");

                    b.Property<bool>("LinkedToIdentity")
                        .HasColumnType("boolean")
                        .HasColumnName("linked_to_identity");

                    b.Property<string>("RequestId")
                        .IsRequired()
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("request_id");

                    b.Property<Guid>("TeacherId")
                        .HasColumnType("uuid")
                        .HasColumnName("teacher_id");

                    b.Property<string>("TrnToken")
                        .HasMaxLength(128)
                        .HasColumnType("character varying(128)")
                        .HasColumnName("trn_token");

                    b.HasKey("TrnRequestId")
                        .HasName("pk_trn_requests");

                    b.HasIndex("ClientId", "RequestId")
                        .IsUnique()
                        .HasDatabaseName("ix_trn_requests_client_id_request_id");

                    b.ToTable("trn_requests", (string)null);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.UserBase", b =>
                {
                    b.Property<Guid>("UserId")
                        .ValueGeneratedOnAdd()
                        .HasColumnType("uuid")
                        .HasColumnName("user_id");

                    b.Property<bool>("Active")
                        .HasColumnType("boolean")
                        .HasColumnName("active");

                    b.Property<string>("Name")
                        .IsRequired()
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("name");

                    b.Property<int>("UserType")
                        .HasColumnType("integer")
                        .HasColumnName("user_type");

                    b.HasKey("UserId")
                        .HasName("pk_users");

                    b.ToTable("users", (string)null);

                    b.HasDiscriminator<int>("UserType");

                    b.UseTphMappingStrategy();
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.MandatoryQualification", b =>
                {
                    b.HasBaseType("TeachingRecordSystem.Core.DataStore.Postgres.Models.Qualification");

                    b.Property<Guid?>("DqtMqEstablishmentId")
                        .HasColumnType("uuid")
                        .HasColumnName("dqt_mq_establishment_id");

                    b.Property<Guid?>("DqtSpecialismId")
                        .HasColumnType("uuid")
                        .HasColumnName("dqt_specialism_id");

                    b.Property<DateOnly?>("EndDate")
                        .HasColumnType("date")
                        .HasColumnName("end_date");

                    b.Property<Guid?>("ProviderId")
                        .HasColumnType("uuid")
                        .HasColumnName("mq_provider_id");

                    b.Property<int?>("Specialism")
                        .HasColumnType("integer")
                        .HasColumnName("mq_specialism");

                    b.Property<DateOnly?>("StartDate")
                        .HasColumnType("date")
                        .HasColumnName("start_date");

                    b.Property<int?>("Status")
                        .HasColumnType("integer")
                        .HasColumnName("mq_status");

                    b.HasDiscriminator().HasValue(0);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.ApplicationUser", b =>
                {
                    b.HasBaseType("TeachingRecordSystem.Core.DataStore.Postgres.Models.UserBase");

                    b.Property<string[]>("ApiRoles")
                        .HasColumnType("varchar[]")
                        .HasColumnName("api_roles");

                    b.Property<string>("ClientId")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("client_id");

                    b.Property<string>("ClientSecret")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("client_secret");

                    b.Property<bool>("IsOidcClient")
                        .HasColumnType("boolean")
                        .HasColumnName("is_oidc_client");

                    b.Property<string>("OneLoginAuthenticationSchemeName")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("one_login_authentication_scheme_name");

                    b.Property<string>("OneLoginClientId")
                        .HasMaxLength(50)
                        .HasColumnType("character varying(50)")
                        .HasColumnName("one_login_client_id");

                    b.Property<string>("OneLoginPostLogoutRedirectUriPath")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("one_login_post_logout_redirect_uri_path");

                    b.Property<string>("OneLoginPrivateKeyPem")
                        .HasMaxLength(2000)
                        .HasColumnType("character varying(2000)")
                        .HasColumnName("one_login_private_key_pem");

                    b.Property<string>("OneLoginRedirectUriPath")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("one_login_redirect_uri_path");

                    b.Property<List<string>>("PostLogoutRedirectUris")
                        .HasColumnType("varchar[]")
                        .HasColumnName("post_logout_redirect_uris");

                    b.Property<List<string>>("RedirectUris")
                        .HasColumnType("varchar[]")
                        .HasColumnName("redirect_uris");

                    b.HasIndex("ClientId")
                        .IsUnique()
                        .HasDatabaseName("ix_users_client_id")
                        .HasFilter("client_id is not null");

                    b.HasIndex("OneLoginAuthenticationSchemeName")
                        .IsUnique()
                        .HasDatabaseName("ix_users_one_login_authentication_scheme_name")
                        .HasFilter("one_login_authentication_scheme_name is not null");

                    b.HasDiscriminator().HasValue(2);
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.SystemUser", b =>
                {
                    b.HasBaseType("TeachingRecordSystem.Core.DataStore.Postgres.Models.UserBase");

                    b.ToTable("users", (string)null);

                    b.HasDiscriminator().HasValue(3);

                    b.HasData(
                        new
                        {
                            UserId = new Guid("a81394d1-a498-46d8-af3e-e077596ab303"),
                            Active = true,
                            Name = "System",
                            UserType = 0
                        });
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.User", b =>
                {
                    b.HasBaseType("TeachingRecordSystem.Core.DataStore.Postgres.Models.UserBase");

                    b.Property<string>("AzureAdUserId")
                        .HasMaxLength(100)
                        .HasColumnType("character varying(100)")
                        .HasColumnName("azure_ad_user_id");

                    b.Property<Guid?>("DqtUserId")
                        .HasColumnType("uuid")
                        .HasColumnName("dqt_user_id");

                    b.Property<string>("Email")
                        .HasMaxLength(200)
                        .HasColumnType("character varying(200)")
                        .HasColumnName("email")
                        .UseCollation("case_insensitive");

                    b.Property<string[]>("Roles")
                        .IsRequired()
                        .HasColumnType("varchar[]")
                        .HasColumnName("roles");

                    b.HasIndex("AzureAdUserId")
                        .IsUnique()
                        .HasDatabaseName("ix_users_azure_ad_user_id");

                    b.HasDiscriminator().HasValue(1);
                });

            modelBuilder.Entity("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreAuthorization<System.Guid>", b =>
                {
                    b.HasOne("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication<System.Guid>", "Application")
                        .WithMany("Authorizations")
                        .HasForeignKey("ApplicationId")
                        .HasConstraintName("fk_oidc_authorizations_oidc_applications_application_id");

                    b.Navigation("Application");
                });

            modelBuilder.Entity("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreToken<System.Guid>", b =>
                {
                    b.HasOne("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication<System.Guid>", "Application")
                        .WithMany("Tokens")
                        .HasForeignKey("ApplicationId")
                        .HasConstraintName("fk_oidc_tokens_oidc_applications_application_id");

                    b.HasOne("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreAuthorization<System.Guid>", "Authorization")
                        .WithMany("Tokens")
                        .HasForeignKey("AuthorizationId")
                        .HasConstraintName("fk_oidc_tokens_oidc_authorizations_authorization_id");

                    b.Navigation("Application");

                    b.Navigation("Authorization");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.Alert", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.AlertType", null)
                        .WithMany()
                        .HasForeignKey("AlertTypeId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_alerts_alert_type");

                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.Person", null)
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_alerts_person");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.AlertType", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.AlertCategory", null)
                        .WithMany("AlertTypes")
                        .HasForeignKey("AlertCategoryId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_alert_types_alert_category");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.ApiKey", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.ApplicationUser", "ApplicationUser")
                        .WithMany("ApiKeys")
                        .HasForeignKey("ApplicationUserId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_api_key_application_user");

                    b.Navigation("ApplicationUser");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.Establishment", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.EstablishmentSource", null)
                        .WithMany()
                        .HasForeignKey("EstablishmentSourceId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_establishments_establishment_source_id");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.EytsAwardedEmailsJobItem", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.EytsAwardedEmailsJob", "EytsAwardedEmailsJob")
                        .WithMany("JobItems")
                        .HasForeignKey("EytsAwardedEmailsJobId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_eyts_awarded_emails_job_items_eyts_awarded_emails_jobs_eyts");

                    b.Navigation("EytsAwardedEmailsJob");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.InductionCompletedEmailsJobItem", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.InductionCompletedEmailsJob", "InductionCompletedEmailsJob")
                        .WithMany("JobItems")
                        .HasForeignKey("InductionCompletedEmailsJobId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_induction_completed_emails_job_items_induction_completed_em");

                    b.Navigation("InductionCompletedEmailsJob");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.InternationalQtsAwardedEmailsJobItem", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.InternationalQtsAwardedEmailsJob", "InternationalQtsAwardedEmailsJob")
                        .WithMany("JobItems")
                        .HasForeignKey("InternationalQtsAwardedEmailsJobId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_international_qts_awarded_emails_job_items_international_qt");

                    b.Navigation("InternationalQtsAwardedEmailsJob");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.OneLoginUser", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.Person", "Person")
                        .WithOne()
                        .HasForeignKey("TeachingRecordSystem.Core.DataStore.Postgres.Models.OneLoginUser", "PersonId")
                        .HasConstraintName("fk_one_login_users_persons_person_id");

                    b.Navigation("Person");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.QtsAwardedEmailsJobItem", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.QtsAwardedEmailsJob", "QtsAwardedEmailsJob")
                        .WithMany("JobItems")
                        .HasForeignKey("QtsAwardedEmailsJobId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_qts_awarded_emails_job_items_qts_awarded_emails_jobs_qts_aw");

                    b.Navigation("QtsAwardedEmailsJob");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.Qualification", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.Person", null)
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_qualifications_person");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.SupportTask", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.OneLoginUser", null)
                        .WithMany()
                        .HasForeignKey("OneLoginUserSubject")
                        .HasConstraintName("fk_support_tasks_one_login_user");

                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.Person", null)
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .HasConstraintName("fk_support_tasks_person");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsCsvExtractItem", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsCsvExtract", null)
                        .WithMany()
                        .HasForeignKey("TpsCsvExtractId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_tps_csv_extract_items_tps_csv_extract_id");

                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsCsvExtractLoadItem", null)
                        .WithMany()
                        .HasForeignKey("TpsCsvExtractLoadItemId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_tps_csv_extract_items_tps_csv_extract_load_item_id");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsCsvExtractLoadItem", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsCsvExtract", null)
                        .WithMany()
                        .HasForeignKey("TpsCsvExtractId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_tps_csv_extract_load_items_tps_csv_extract_id");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.TpsEmployment", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.Establishment", null)
                        .WithMany()
                        .HasForeignKey("EstablishmentId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_tps_employments_establishment_id");

                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.Person", null)
                        .WithMany()
                        .HasForeignKey("PersonId")
                        .OnDelete(DeleteBehavior.Cascade)
                        .IsRequired()
                        .HasConstraintName("fk_tps_employments_person_id");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.MandatoryQualification", b =>
                {
                    b.HasOne("TeachingRecordSystem.Core.DataStore.Postgres.Models.MandatoryQualificationProvider", "Provider")
                        .WithMany()
                        .HasForeignKey("ProviderId")
                        .HasConstraintName("fk_qualifications_mandatory_qualification_provider");

                    b.Navigation("Provider");
                });

            modelBuilder.Entity("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreApplication<System.Guid>", b =>
                {
                    b.Navigation("Authorizations");

                    b.Navigation("Tokens");
                });

            modelBuilder.Entity("OpenIddict.EntityFrameworkCore.Models.OpenIddictEntityFrameworkCoreAuthorization<System.Guid>", b =>
                {
                    b.Navigation("Tokens");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.AlertCategory", b =>
                {
                    b.Navigation("AlertTypes");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.EytsAwardedEmailsJob", b =>
                {
                    b.Navigation("JobItems");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.InductionCompletedEmailsJob", b =>
                {
                    b.Navigation("JobItems");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.InternationalQtsAwardedEmailsJob", b =>
                {
                    b.Navigation("JobItems");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.QtsAwardedEmailsJob", b =>
                {
                    b.Navigation("JobItems");
                });

            modelBuilder.Entity("TeachingRecordSystem.Core.DataStore.Postgres.Models.ApplicationUser", b =>
                {
                    b.Navigation("ApiKeys");
                });
#pragma warning restore 612, 618
        }
    }
}
