@page "/persons/{personId}/induction"
@using TeachingRecordSystem.SupportUi.Pages.Common;
@model TeachingRecordSystem.SupportUi.Pages.Persons.PersonDetail.InductionModel
@{
    Layout = "Layout";
    ViewBag.SelectedTab = PersonSubNavigationTab.Induction;
    var person = HttpContext.Features.GetRequiredFeature<CurrentPersonFeature>();
}

@section BeforeContent {
    <govuk-back-link href="@LinkGenerator.PersonDetail(person.PersonId)">Back to record</govuk-back-link>
}
@if (!String.IsNullOrEmpty(Model.StatusWarningMessage))
{
    <govuk-warning-text icon-fallback-text="Warning" data-testid="induction-status-warning">@Model.StatusWarningMessage</govuk-warning-text>
}

<govuk-summary-card>
    <govuk-summary-card-title data-testid="induction-title">Induction details</govuk-summary-card-title>
    <govuk-summary-list>
        <govuk-summary-list-row data-testid="induction-status">
            <govuk-summary-list-row-key>
                Induction status
            </govuk-summary-list-row-key>
            <govuk-summary-list-row-value>
                @Model.Status
            </govuk-summary-list-row-value>
        </govuk-summary-list-row>

        @if (Model.ExemptionReason != null)
        {
            <govuk-summary-list-row data-testid="induction-exemption-reason">
                <govuk-summary-list-row-key>
                    Exemption reason
                </govuk-summary-list-row-key>
                <govuk-summary-list-row-value>
                    @Model.ExemptionReason
                </govuk-summary-list-row-value>
            </govuk-summary-list-row>
        }

        @if (Model.StartDate != null)
        {
            <govuk-summary-list-row data-testid="induction-start-date">
                <govuk-summary-list-row-key>
                    Induction start date
                </govuk-summary-list-row-key>
                <govuk-summary-list-row-value>
                    @Model.StartDate
                </govuk-summary-list-row-value>
            </govuk-summary-list-row>
        }

        @if (Model.CompletionDate != null)
        {
            <govuk-summary-list-row data-testid="induction-completion-date">
                <govuk-summary-list-row-key>
                    Induction completion date
                </govuk-summary-list-row-key>
                <govuk-summary-list-row-value>
                    @Model.CompletionDate
                </govuk-summary-list-row-value>
            </govuk-summary-list-row>
        }

    </govuk-summary-list>
</govuk-summary-card>
