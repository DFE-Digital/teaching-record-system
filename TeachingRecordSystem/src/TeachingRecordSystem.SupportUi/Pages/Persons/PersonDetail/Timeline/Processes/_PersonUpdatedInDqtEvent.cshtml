@model PersonUpdatedInDqtEvent

<govuk-summary-list>
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.Trn))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>TRN</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.Trn</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasAnyFlag(PersonUpdatedInDqtEventChanges.FirstName | PersonUpdatedInDqtEventChanges.MiddleName | PersonUpdatedInDqtEventChanges.LastName))
    {
        var name = StringHelper.JoinNonEmpty(' ', Model.Details.FirstName, Model.Details.MiddleName, Model.Details.LastName);
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>Name</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@name</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.DateOfBirth))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>Date of birth</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.DateOfBirth?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.EmailAddress))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>Email address</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.EmailAddress</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.NationalInsuranceNumber))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>National Insurance number</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.NationalInsuranceNumber</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.Gender))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>Gender</govuk-summary-list-row-key>
            <govuk-summary-list-row-value>@Model.Details.Gender?.GetDisplayName()</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.DateOfDeath))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>Date of death</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.DateOfDeath?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.QtsDate))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>QTS held since</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.QtsDate?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.EytsDate))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>EYTS held since</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.EytsDate?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.QtlsDate))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>QTLS held since</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.QtlsDate?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.QtlsStatus))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>Qualified teacher learning and skills status (QTLS)</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.QtlsStatus.GetDisplayName()</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.InductionStatus))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>Induction status</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.InductionStatus?.GetDisplayName()</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
    @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.DqtInductionStatus))
    {
        <govuk-summary-list-row>
            <govuk-summary-list-row-key>DQT induction status</govuk-summary-list-row-key>
            <govuk-summary-list-row-value use-empty-fallback>@Model.Details.DqtInductionStatus</govuk-summary-list-row-value>
        </govuk-summary-list-row>
    }
</govuk-summary-list>

<govuk-details class="govuk-!-margin-bottom-2">
    <govuk-details-summary>Previous data</govuk-details-summary>
    <govuk-details-text>
        <govuk-summary-list>
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.Trn))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>TRN</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.Trn</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasAnyFlag(PersonUpdatedInDqtEventChanges.FirstName | PersonUpdatedInDqtEventChanges.MiddleName | PersonUpdatedInDqtEventChanges.LastName))
            {
                var name = StringHelper.JoinNonEmpty(' ', Model.OldDetails.FirstName, Model.OldDetails.MiddleName, Model.OldDetails.LastName);
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>Name</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@name</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.DateOfBirth))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>Date of birth</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.DateOfBirth?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.EmailAddress))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>Email address</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.EmailAddress</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.NationalInsuranceNumber))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>National Insurance number</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.NationalInsuranceNumber</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.Gender))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>Gender</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value>@Model.OldDetails.Gender?.GetDisplayName()</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.DateOfDeath))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>Date of death</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.DateOfDeath?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.QtsDate))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>QTS held since</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.QtsDate?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.EytsDate))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>EYTS held since</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.EytsDate?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.QtlsDate))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>QTLS held since</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.QtlsDate?.ToString(WebConstants.DateOnlyDisplayFormat)</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.QtlsStatus))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>Qualified teacher learning and skills status (QTLS)</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.QtlsStatus.GetDisplayName()</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.InductionStatus))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>Induction status</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.InductionStatus?.GetDisplayName()</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
            @if (Model.Changes.HasFlag(PersonUpdatedInDqtEventChanges.DqtInductionStatus))
            {
                <govuk-summary-list-row>
                    <govuk-summary-list-row-key>DQT induction status</govuk-summary-list-row-key>
                    <govuk-summary-list-row-value use-empty-fallback>@Model.OldDetails.DqtInductionStatus</govuk-summary-list-row-value>
                </govuk-summary-list-row>
            }
        </govuk-summary-list>
    </govuk-details-text>
</govuk-details>
