@page "/users"
@model TeachingRecordSystem.SupportUi.Pages.Users.IndexModel
@{
    ViewBag.Title = "Add and manage users";
}
<h1 class="govuk-heading-l">@ViewBag.Title</h1>

<govuk-button-link href="@LinkGenerator.LegacyAddUser()" data-testid="add-user">Add a new user</govuk-button-link>

<div class="moj-filter-layout trs-filter-layout">
    <div class="moj-filter-layout__filter">
        <partial name="_Filters" model=@Model.Filters />
    </div>

    <div class="moj-filter-layout__content">
        @if (Model.HasUsers)
        {
            <ol class="trs-search-results">
                @foreach (var user in Model.CurrentPageUsers)
                {
                    <partial name="_User" model=@user />
                }
            </ol>
        }
        else
        {
            <p class="govuk-body"><strong>No results found</strong></p>
            <p class="govuk-body">Try changing or clearing the filters.</p>
        }

        <partial name="_Pagination" model=@Model.Pagination />
    </div>
</div>
